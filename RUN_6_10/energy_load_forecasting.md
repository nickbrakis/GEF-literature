# Energy Load Forecasting + Global methods

**Χρονικά πλαίσια πρόβλεψης φορτίου: Βραχυπρόθεσμα, μεσοπρόθεσμα και μακροπρόθεσμα**

Υπάρχουν διάφορες μέθοδοι που χρησιμοποιούνται στην πρόβλεψη φορτίου, καθεμία από τις οποίες αναλύει ιστορικά δεδομένα φορτίου και άλλα σχετικά δεδομένα εισόδου για τη δημιουργία προβλέψεων για διαφορετικούς χρονικούς ορίζοντες.

**Βραχυπρόθεσμη πρόβλεψη φορτίου**

Αυτό καλύπτει μια περίοδο έως και μία εβδομάδα και βασίζεται σε μεγάλο βαθμό σε μετεωρολογικές προβλέψεις και πρόσφατα δεδομένα φορτίου. Η βραχυπρόθεσμη πρόβλεψη φορτίου, συμπεριλαμβανομένων των προβλέψεων για την επόμενη ημέρα, είναι ιδιαίτερα σημαντική για τη διαχείριση του δικτύου ηλεκτρικής ενέργειας σε πραγματικό χρόνο, καθώς επιτρέπει στους διαχειριστές συστημάτων να λαμβάνουν αποφάσεις τη στιγμή που θα παράγουν και πού να την κατευθύνουν. Η ακρίβεια είναι ζωτικής σημασίας σε αυτό το πλαίσιο, καθώς ακόμη και μικρά σφάλματα στην πρόβλεψη μπορούν να οδηγήσουν σε σπατάλη ενέργειας ή υπερφορτωμένες γραμμές μεταφοράς ηλεκτρικής ενέργειας.

**Μεσοπρόθεσμη πρόβλεψη φορτίου**

Αυτό κυμαίνεται από μία εβδομάδα έως ένα έτος και χρησιμοποιείται για τον προγραμματισμό συντήρησης και τη διαχείριση των αποθεμάτων καυσίμων. Λαμβάνει υπόψη τις εποχιακές διακυμάνσεις στην κατανάλωση ηλεκτρικής ενέργειας καθώς και τις προγραμματισμένες διακοπές.

**Μακροπρόθεσμη πρόβλεψη φορτίου**

Αυτό συνήθως καλύπτει μια περίοδο άνω του ενός έτους και λαμβάνει υπόψη παράγοντες όπως οι δημογραφικές αλλαγές, η οικονομική ανάπτυξη και οι επιπτώσεις της ενεργειακής πολιτικής. Η μακροπρόθεσμη πρόβλεψη φορτίου επικεντρώνεται στον σχεδιασμό και τη βελτιστοποίηση του συστήματος, βοηθώντας τις επιχειρήσεις κοινής ωφέλειας να λαμβάνουν αποφάσεις σχετικά με το πού να επενδύσουν σε νέα δυναμικότητα παραγωγής ενέργειας και πώς να εξισορροπήσουν διαφορετικές πηγές ενέργειας, όπως οι ανανεώσιμες πηγές ενέργειας και τα παραδοσιακά ορυκτά καύσιμα.

[Μετάφραση από https://www.ibm.com/think/topics/load-forecasting ]

[A Global Modeling Framework for Load Forecasting in Distribution Networks](https://www.notion.so/A-Global-Modeling-Framework-for-Load-Forecasting-in-Distribution-Networks-214065be0c038087bd13dc403cd2b9a6?pvs=21)

Στην παρούσα έρευνα αναπτύσσεται και μελετάται ένα ολοκληρωμένο πλαίσιο εφαρμογής προβλέψεων χρονοσειρών φορτίου ηλ. ενέργειας με εκτεταμένα πειράματα πάνω σε δεδομένα της Ιρλανδίας δημοσιευμένα από την Επιτροπή Ρύθμισης Ενέργειας (CER). Με αυτό τον τρόπο, αποδεικνύει την υπεροχή σε ακρίβεια πρόβλεψης των global μεθόδων σε σύγκριση με τις υπάρχουσες state-of-the-art λύσεις.  Συνοπτικά οι βασικές συνεισφορές της έρευνας:

1. Παρουσιάζεται ένα global πλαίσιο μοντελοποίησης για αποτελεσματική πρόβλεψη μεγάλου αριθμού φορτίων σε δίκτυα διανομής ενέργειας, υλοποιημένο με χρήση ενός state-of-the-art μοντέλος Βαθιάς Μάθησης.
2. Εισάγεται ένας μηχανισμός εντοπισμού με χρήση μη επιβλεπόμενης μάθησης και ένας enseble-αλγόριθμος πρόβλεψης για την περαιτέρω βελτίωση της απόδοσης.
3.  Για την απόδειξη της υπεροχής του προτεινόμενου πλαισίου έναντι των state-of-the-art διεξάγονται εκτενή πειράματα σε πραγματικά δεδομένα προσφέροντας πλούσια συμπεράσματα τα οποία παρουσιάζονται στους πίνακες παρακάτω. 

Η αρχιτεκτονική αυτού του πλαισίου συγκροτείται από τέσσερα βασικά στοιχεία τα οποία έχουν ακολουθιακή λογική. Έτσι, στο πρώτο βήμα μια ομάδα χρονοσειρών χρησιμοποιείται για την εκμάθηση ενός (ενιαίου) global μοντέλου. Με την διαδικασία αυτή και  με βάση την στρατηγική μεταφοράς μάθησης (transfer  learning), όπου η γνώση που αποκτάται κατά την επίλυση ενός προβήματος χρησιμοποιείται σε κάποιο άλλο πρόβλημα διαφορετικού αλλά συναφούς τομέα, μοντελοποιούνται τα global χαρακτηριστικά των δεδομένων.  Στο δεύτερο βήμα, εφαρμόζεται μια διαδικασία συσταδοποίησης για τον εντοπισμό ομάδων δειγμάτων δεδομένων (συστάδες) που μοιράζονται συγκεκριμένα χαρακτηριστικά δεδομένων που δεν αποτυπώνονται απαραίτητα από το μαθημένο συνολικό μοντέλο. Στο τρίτο βήμα, οι συστάδες  που εντοπίστηκαν χρησιμοποιούνται για την εκπαίδευση πολλαπλών μοντέλων (localized) σε υποσύνολα των δειγμάτων χρονοσειρών. Με την διαδικασία αυτή το συνολικό global μοντέλο εκμεταλλεύεται την επιπρόσθετη πληροφορία που αποκτάται από την διαδικασία συσταδοποίησης. Στο τέταρτο βήμα, οι τοπικές (localized) προβλέψεις για κάθε χρονοσειρά συνδυάζονται σε μία τελική πρόβλεψη με τη δημιουργία ενός βέλτιστου συνόλου προβλέψεων (ensemble). Στο παρακάτω διάγραμμα παρουσιάζεται μία σχηματική απεικόνιση του συνολικού πλαισίου. 


**Συσταδοποίηση**

Στην παρούσα εφαρμογή χρησιμοποιείται η τεχνική της συσταδοποίησης (clustering) των χρονοσειρών βελτιώνοντας την επίδοση του global μοντέλου. Η ιδέα της χρήσης αυτού του μηχανισμού βασίζεται στην αναγνώριση των χρονοσειρών με παρόμοια χαρακτηριστικά και στην συνέχεια στην προσαρμογή του εκπαιδευμένου global μοντέλου στην επιπρόσθετη πληροφορία που παρέχουν οι αναγνωρισμένες συστάδες. Για να πραγματοποιηθεί η διαδικασία της συσταδοποίησης ορισμένα χαρακτηριστικά έπρεπε να εξαχθούν όπως η μέση τιμή, η διακύμανση,  η αυτοσυσχέτιση 1ης τάξης, η τάση, η γραμμικότητα. Χρησιμοποιήθηκε μια διαδικασία ιεραρχικής συσταδοποίηση βασισμένη σε αλγόριθμο K-means με διαχωρισμό των συστάδων, αφού είναι η καλύτερη επιλογή για δεδομένα χρονοσειρών λόγω της ντετερμινιστικής επιλογής των υποσυνόλων των δεδομένων. 

**Global vs Local Modeling**

Σημαντική κρίνεται η συνεισφορά της έρευνας στην συστηματική σύγκριση μεταξύ global και local προσεγγίσεων μοντελοποίησης. Τα Local μοντέλα, τα οποία εκπαιδεύονται ξεχωριστά για κάθε χρονοσειρά, επιτυχάνουν ικανοποιητική ακρίβεια, αλλά δεν είναι σε θέση να γενικεύσουν τις προβλέψεις και να κλιμακώσουν το μέγεθος εκπάιδευσης. Από την άλλη, τα global μοντέλα, τα οποία εκπαιδεύονται με δεδομένα από πολλαπλές χρονοσειρές, αυξάνουν την επίδοση τους μαθαίνοντας κοινές αναπαραστάσεις από όλες τις περιοχές των δεδομένων. Από τα πειραματικά δεδομένα, μπορούμε να δούμε στους παρακάτω πίνακες  την ικανότητα κλιμακωσιμότητας και την ακρίβεια, με χρήση της μετρικής MASE, συγκριτικά για τις δύο προσεγγίσεις.

[A Global Data-driven Forecasting Approach for Buildings Energy Demand Prediction](https://www.notion.so/A-Global-Data-driven-Forecasting-Approach-for-Buildings-Energy-Demand-Prediction-213065be0c0380c59b64daf49d248758?pvs=21)

Η συνεισφορά αυτής της έρευνας είναι αρκετά πλούσια στον τομέα της συγκριτικής μελέτης global και local μεθόδων μοντελοποίησης. Παρουσιάζεται ένα πλαίσιο εφαρμογής μίας global προσέγγισης του οποίου η απλότητα μας επιτρέπει να βγάλουμε εύκολα συμπεράσματα για την σύγκριση global και local μοντέλων. Πιο συγκεκριμένα, στα πειράματα που έγιναν μελετήθηκαν τα μοντέλα Daily Naive και Weekly Naive (ως baseline), Γραμμική Παλινδρόμηση (Linear Regression) και LightGBM. Όλα τα πειράματα εφαρμόστηκαν πάνω σε δεδομένα χρονοσειρών ζήτησης ηλεκτρικής ενέργειας κτιρίων που βρίσκονται στο Λονδίνο. Στους παρακάτω πίνακες εμφανίζονται τα αποτελέσματα των πειραμάτων με χρήση μετρικών ακρίβειας RMSE, MAE, MSE, rMAE. 

Από τα πειραματικά αποτελέσματα μπορούμε να συμπεράνουμε ότι το global πλαίσιο προβλέψεων προσφέρει μεγαλύτερη ακρίβεια συγκριτικά με το naive, και τα local μοντέλα. Σε αντίθεση με τα local μοντέλα τα οποία εκπαιδεύονται για κάθε χρονοσειρά ξεχωριστά, η global προσέγγιση εκπαιδεύει ένα ενιαίο μοντέλο με βάση τα δεδομένα πολλαπλών χρονοσειρών το οποίο οδηγεί σε δύο βασικά οφέλη. 

1. Βελτίωση της αποδοτικότητας του μοντέλου και της ικανότητας καλύτερης γενίκευσης στην πρόβλεψη της ζήτησης ενέργειας για ένα κτίριο που προέρχεται από ένα νέο σύνολο δεδομένων
2. Προσαρμογή  global παραμέτρων για πολλές χρονοσειρές με αποτέλεσμα να μειώνεται σημαντικά ο φόρτος εργασίας της διαδικασία ρύθμισης υπερπαραμέτρων όταν ο αριθμός των χρονοσειρών γινεται πολύ μεγάλος.

[Global vs. Local Models for Short-Term Electricity Demand Prediction in a Residential/Lodging Scenario](https://www.notion.so/Global-vs-Local-Models-for-Short-Term-Electricity-Demand-Prediction-in-a-Residential-Lodging-Scenar-216065be0c03805f8b1dcf4d5bb19046?pvs=21)

Η παρούσα εργασία διερευνά κατά πόσο τα global μοντέλα έχουν την δυνατότητα να αποδώσουν εξίσου καλά ή και καλύτερα από τα ήδη γνωστά local μοντέλα. Η έρευνα πραγματοποιείται στον τομέα της πρόγνωσης βραχυπρόθεσμης ζήτησης ηλεκτρικής ενέργειας κτιρίων. Έτσι τα global μοντέλα έχουν εκπαιδευτεί σε δεδομένα χρονοσειρών πολλαπλών κτιρίων, ενώ τα local μοντέλα έχουν εκπαιδευτεί ξεχωριστά ανά κτήριο. 

Κίνητρο για την διερεύνηση global προσεγγίσεων στην πρόβλεψη χρονοσειρών αποτελεί η διαθεσιμότητα πλέον μεγάλου όγκου δεδομένων, καθώς όταν ο αριθμός των χρηστών είναι μεγάλος η προσαρμογή ενός προγνωστικού μοντέλου για κάθε χρήστη θα μπορούσε να είναι απαγορευτική όσον αφορά τον χρόνο εκπαίδευσης, την ανάπτυξη και τη συντήρηση της λύσης. Ακόμα, τα νέα ερευνητικά δεδομένα έχουν δείξει ότι τα global μοντέλα μπορούν να αξιοποιήσουν μοτίβα τα οποία είναι κοινά σε διαφορετικές χρονοσειρές, επιλύοντας έτσι το πρόβλημα της υπερπροσαρμογής. 

Τα πειράματα εφαρμόστηκαν σε ένα φιλτραρισμένο υποσύνολο του Great Energy Predictor III (GEP3) dataset μονομεταβλητών χρονοσειρών. Ο ορίζοντας προβλέψεων ορίστηκε σε 1 ώρα, με χαρακτηριστικά εισόδου χρονικά χαρακτηριστικά και προηγούμενες τιμές ηλεκτρικής κατανάλωσης. Τα μοντέλα που αξιολογήθηκαν είναι τα παρακάτω:

Baseline / Traditional:

- Linear Regression

Machine Learning / Deep Learning:

- Long Short-Term Memory (LSTM)
- Temporal Convolutional Network (TCN)
- Neural Basis Expansion Analysis Time Series Forecasting (NBEATS)
- Light Gradient Boosted Model (LGBM)
- Transformer

Αρκετά ποιοτικά είναι τα συγκριτικά διαγράμματα που παρουσιάζουν τα αποτελέσματα, με χρήση των μετρικών CV (%) και RMSE και πιο συγκεκριμένα η αναπαράσταση “<metric><model>Local - <metric><model>Global”

Και ο πίνακας :

Από τα αποτελέσματα των πειραμάτων παρατηρούμε ότι τα  global μοντέλα αποτελούν μία αποδοτική και πολύτιμη εναλλακτική έπιλογή έναντι των local μοντέλων, καθώς εκτός από τις ακριβείς προβλέψεις προσφέρουν παράλληλα πλεονεκτήματα ως προς την μείωση της πολυπλοκότητας στην υλοποίηση των συστημάτων πρόβλεψης. Επίσης, σημαντική κρίνεται η απόδοσης του μοντέλου Global-except, το οποίο αποδεικνύει ότι  είναι δυνατόν επιτευχθεί ικανοποιητική πρόβλεψη κατανάλωσης για ένα εντελώς νέο κτίριο, χωρίς να απαιτείται προηγούμενη γνώση των χαρακτηριστικών του, χρησιμοποιώντας ένα παγκόσμιο μοντέλο εκπαιδευμένο αποκλειστικά σε άλλα (υφιστάμενα) κτίρια.

[Global and Local Approaches for Forecasting of Long-Term Natural Gas Consumption in Poland Based on Hierarchical Short Time Series](https://www.notion.so/Global-and-Local-Approaches-for-Forecasting-of-Long-Term-Natural-Gas-Consumption-in-Poland-Based-on--216065be0c0380ba97e2c2faa553f034?pvs=21)

Η παρούσα εργασία μελετάει την μακρυπρόθεσμη πρόβλεψη κατανάλωσης φυσικού αερίου στην Πολωνία με χρήση μικρών χρονοσειρών εφαρμόζοντας global και local στρατηγικές μοντελοποίησης. Ιδιαίτερη έμφαση δίνεται στην ιεραρχική δομή των δεδομένων και τον ρόλο που παίζουν στην απόδοση των μοντέλων.

Όσον αφορά τα μοντέλα των προβλέψεων η έρευνα αναγνωρίζει δύο βασικές κατηγοριές προβλέψεων. Την μονομεταβλητή μέθοδο, η οποία βασίζεται μόνο σε παρελθοντικά δεδομένα για την πρόβλεψη νέων τιμών και την πολυμεταβλητή μέθοδο, όπου χρησιμοποιούνται επιπρόσθετες χρονοσειρες ως χαρακτηριστικά προβλεψεων. Οι μονομεταβλητή μέθοδος περιλαμβάνει μοντέλα από τρεις βασικές ομάδες. Τα naive μοντέλα, τα οποία χρησιμοποιούνται κυρίως ως σημεία αναφοράς, τα στατιστικά μοντέλα, όπως τα ARIMA και ETS και τέλος τα μοντέλα Μηχανικής Μάθησης. 

Στην συνέχεια της έρευνας αναλύεται η ιεραρχική δομή των δεδομένων. Επίσης, για να επιτευχθεί η συνοχή κατά την πρόβλεψη χρονοσειρών με ιεραρχική δομή είναι σημαντικό να υπάρχει μία στρατηγική συνδυασμού των προβλέψεων από κάθε επίπεδο. Συγκεκριμένα επεξηγούνται 4 στρατηγικές: top-down, bottom-up, middle-out και min-T.

Ως μεθοδολογίες πρόβλεψεις παρουσιάζονται οι local και global πρόσεγγισεις. Αναφέρονται δύο βασικά μειονεκτήματα της local προσέγγισης. Το περιορισμένο μέγεθος των δεδομένων μπορεί να οδηγήσει σε υπερπροσαρμογή και ότι ορισμένες χρονικές εξαρτήσεις μπορεί να παραλειφθούν. Για την προσέγγιση αυτών των προκλήσεων εισάγεται η global μέθοδος, όπου ένα ενιαίο μοντέλο εκπαιδεύεται σε δεδομένα χρονοσειρών με παρόμοια χαρακτηριστικά. Αναφέρεται επίσης, οτι ορισμένες έρευνες έχουν αποδείξη την υπεροχή global μοντέλων ακόμα και όταν τα δεδομένα στα οποία έχουν εκπαιδευτεί δεν φαίνεται να σχετίζονται.  

Κατά την πειραματική διαδικασία, για την σύγκριση των δύο προσεγγίσεων, κατασκευάστηκαν 3 μοντέλα: 

- Local μονομεταβλητό στατιστικό μοντέλο (NAIVE, 3MA, ARIMA, ETS)
- Global μονομεταβλητό ML μοντέλο (με αλγορίθμους MLP, LSTM, LightGBM)
- Global πολυμεταβλητό ML μοντέλο (με αλγορίθμους MLP, LSTM, LightGBM)

Σημαντική είναι η συνεισφορά της έρευνας στην παρουσίαση μίας αναλυτικής μεθοδολογίας 17 βημάτων για την κατασκευή global μοντέλων. 

Για την αξιολόγηση των μοντέλων παρουσιάζονται για κάθε προσέγγιση ξεχωριστά συγκριτικοί πίνακες με χρήση μετρικών MAPE και RMSE. Επίσης για την συγκρίση της επίδοσης της κάθε μεθόδου χρησιμοποιείται το τεστ Friedman και μετά Nemenyi.

Στα αποτελέσματα καταλήγει στην υπεροχή της global μεθόδου έναντι της local και την ελάχιστα καλύτερη απόδοση των πολυμεταβλητών μοντέλων. Επίσης τονίζονται τα πλεονεκτήματα της χρήσης απλούστερων νευρωνικών δικτύων όπως τα MLP. Τέλος, αναφέρεται ότι κρίνεται αναγκαία η περαιτέρω μελέτη των χαρακτηριστικών ιεραρχικών χρονοσειρών και η αντιμετώπιση της διαδικασίας πρόβλεψης τέτοιων δεδομένων να λαμβάνει υπόψιν όλα τα κριτήρια, όπως επίπεδα ιεραρχίας, χαρακτηριστκά χρονοσειράς και ορίζοντας προβλέψεων.